<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Artevia</title>
    <!-- CSS -->
    <link rel="stylesheet" href="./css/style.css" />
    <!-- Alpine.js -->
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/@alpinejs/intersect@3.x.x/dist/cdn.min.js"
    ></script>
    <script src="//unpkg.com/alpinejs" defer></script>
    <script src="./js/app.js"></script>
    <!-- Icons -->
    <link
      rel="icon"
      type="image/png"
      href="./public/favicon/favicon-96x96.png"
      sizes="96x96"
    />
    <link rel="icon" type="image/svg+xml" href="./public/favicon/favicon.svg" />
    <link rel="shortcut icon" href="./public/favicon/favicon.ico" />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="./public/favicon/apple-touch-icon.png"
    />
    <meta name="apple-mobile-web-app-title" content="Artevia" />
    <link rel="manifest" href="./public/favicon/site.webmanifest" />
    <!-- Manifest -->
    <link rel="manifest" href="manifest.json" />
  </head>
  <body class="mt-[158px] text-blue">
    <header
      x-data="navbar"
      x-init="init()"
      class="transition-all duration-[450ms] fixed top-0 grid place-items-center bg-white w-full z-50 rounded-b-xl shadow-navbar"
      :class="{'h-[158px]': !scrolled, 'h-[100px] ': scrolled}"
    >
      <div class="transition-all duration-[450ms]" x-data="scrollToTop">
        <div
          @click="scrollToTop()"
          class="grid gap-y-3 place-items-center cursor-pointer"
          x-data="{ logoSlogan: 'Bien s\'unir pour mieux agir' }"
        >
          <figure class="transition-all duration-[450ms]">
            <img
              src="./public/logos/logo_unis.svg"
              alt="Logo de la campagne de communication Unis pour mieux agir"
              :class="{'w-[150px]': !scrolled, 'w-[100px]': scrolled}"
              class="transition-all duration-[450ms]"
            />
          </figure>
          <span
            x-text="logoSlogan"
            :class="{'text-[12px]': scrolled, 'text-xl': !scrolled}"
            class="text-blue leading-none transition-all duration-[450ms]"
          ></span>
        </div>
      </div>
    </header>

    <!-- Échanger pour mieux progresser -->
    <section class="bg-blue pt-9 pl-6" id="section-progresser">
      <div
        class="text-white leading-none max-w-[300px]"
        x-data="{
            firstSectionH1: 'Échanger pour mieux <strong class=\'text-lightBlue\'>progresser</strong> !', firstSectionParagraph: 'Unis vous aide à engager des conversations apaisées.', enSavoirPlus: 'En savoir plus'
        }"
      >
        <h1 class="text-4xl mb-[13px]" x-html="firstSectionH1"></h1>
        <p class="text-lg mb-[45px]" x-text="firstSectionParagraph"></p>
        <div x-data="scrollHandler">
          <button
            @click="scrollToSection($event)"
            data-target="section-desinformation"
            class="bg-opaqueWhite rounded-[37.6px] grid grid-cols-[auto_auto] gap-[7px] place-items-center py-[7px] px-[12.71px] mb-[26px] group"
          >
            <div
              class="rounded-full w-3 h-3 bg-white transition-all duration-300 group-hover:bg-lightBlue"
            ></div>
            <span
              x-text="enSavoirPlus"
              class="text-[10.61px] leading-none"
            ></span>
          </button>
        </div>
      </div>
      <figure class="justify-self-end">
        <img
          src="./public/img/characters/personnes-ensemble.svg"
          alt="Illustration vectorisée représentant trois personnes discutant ensemble."
        />
      </figure>
    </section>
    <!-- Lutter contre la désinformation -->
    <section
      id="section-desinformation"
      class="pt-14 px-8 mb-11"
      x-data="{ secondSectionH2: 'Lutter contre la <strong>désinformation</strong> !' }"
    >
      <h2 x-html="secondSectionH2" class="text-2xl mb-11"></h2>
      <div class="rounded-lg grid place-items-center">
        <div class="rounded-[18px] overflow-hidden">
          <iframe
            class="w-[90vw] h-[216px] sm:h-[350px]"
            src="https://www.youtube.com/embed/D_AlkIJ8oU4"
            title="Une landing page, c&#39;est quoi ? (définition, aide, lexique, tuto, explication)"
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            referrerpolicy="strict-origin-when-cross-origin"
            allowfullscreen
          ></iframe>
        </div>
      </div>
    </section>
    <!--  Un enjeu essentiel-->
    <section class="px-8 mb-11" x-data="{expanded: false}">
      <div
        class="mb-[23px]"
        x-data="{
            unEnjeuEssentiel: 'Un enjeu <span class=\'text-pink\'>essentiel</span>', 
            unEnjeuEssentielParagraphUn: 'Dans un monde où l’information se propage à une vitesse fulgurante, savoir distinguer le vrai du faux est devenu une compétence cruciale. La désinformation, qu’elle soit intentionnelle ou accidentelle, met en péril notre capacité à prendre des décisions éclairées et à agir en citoyens responsables.', unEnjeuEssentielParagraphDeux: 'Pour protéger nos sociétés et préserver la confiance, il est indispensable de développer un esprit critique, de s’appuyer sur des sources fiables et de promouvoir une culture de vérification des faits. Combattons ensemble la désinformation pour un avenir mieux informé et plus serein.'
          }"
      >
        <h2 class="text-2xl mb-[26px]" x-html="unEnjeuEssentiel"></h2>
        <p class="text-sm" x-html="unEnjeuEssentielParagraphUn"></p>
        <div x-show="expanded" x-transition>
          <p
            class="text-sm mt-[10px]"
            x-html="unEnjeuEssentielParagraphDeux"
          ></p>
        </div>
      </div>
      <button
        @click="expanded = !expanded;"
        class="bg-blue p-2.5 text-white rounded-lg grid grid-cols-[auto_auto] place-items-center gap-[10px]"
      >
        <span x-text="expanded ? 'Voir moins' : 'Voir plus'"></span>
        <img src="./public/img/pictogrammes/fleche.svg" />
      </button>
    </section>
    <!-- Carousel -->
    <section class="px-5 py-5" id="carousel-section" x-data="cardsSlider">
      <!-- Titres -->
      <ul class="grid grid-cols-4 gap-4 place-items-center">
        <template x-for="(title, index) in cardsTitles" :key="index">
          <li>
            <button
              x-text="title"
              :class="{'font-bold': index === activeIndex, 'text-opaqueLightBlue': index !== activeIndex}"
              @click="scrollToCard(index)"
              class="transition-all duration-300 uppercase"
            ></button>
          </li>
        </template>
      </ul>

      <!-- Cartes -->
      <div
        class="overflow-auto grid grid-flow-col gap-[69px]"
        @scroll="detectActiveCard"
        id="cards-container"
      >
        <template x-for="(card, index) in cardsInformation" :key="index">
          <div
            data-element="card"
            card-id="index"
            class="rounded-lg px-5 py-5 shadow-cards min-w-[326px]"
          >
            <h3 class="mb-2.5" x-html="card.title"></h3>
            <p x-html="card.content"></p>
            <figure>
              <img :src="card.image" alt="" class="justify-self-center" />
            </figure>
          </div>
        </template>
      </div>

      <!-- Bullets points -->
      <div class="grid place-items-center mt-5">
        <div
          class="grid grid-cols-[auto_auto_auto_auto] gap-4 place-items-center"
        >
          <template x-for="(_, o) in cardsTitles" :key="o">
            <button
              class="rounded-full w-[7px] h-[7px]"
              :class="o === activeIndex ? 'bg-pink' : 'bg-blue'"
              @click="scrollToCard(o)"
            ></button>
          </template>
        </div>
      </div>
    </section>

    <!-- Podcast du jour -->
    <section
      x-data="{nosPodcasts: 'Retrouvez tous nos podcasts sur :'}"
      class="px-[35px]"
    >
      <div x-data="{podcastH2: 'Le podcast <strong>du jour</strong>'}">
        <h2 class="text-2xl mb-[26px]" x-html="podcastH2"></h2>
      </div>
      <div
        class="bg-podcastGray rounded-[20px] p-7 grid grid-cols-[auto_1fr] gap-[17px] place-items-center"
      >
        <div>
          <figure>
            <img src="./public/logos/mini-logo.svg" alt="" />
          </figure>
        </div>
        <div class="w-full" x-data="{title: 'Le dialogue'}">
          <h3 x-text="title"></h3>
          <div class="grid grid-cols-[20px_auto] place-items-center">
            <figure>
              <img
                id="playBtn"
                src="./public/img/pictogrammes/play.svg"
                alt="Illustration vectorisée représentant trois personnes discutant ensemble."
              />
            </figure>
            <div class="w-full grid grid-cols-[161px_50px] place-items-center">
              <div class="w-full" id="waveform"></div>
              <span id="timer"></span>
            </div>
          </div>
        </div>
      </div>
      <div>
        <p x-html="nosPodcasts"></p>
        <div class="grid grid-cols-2 place-items-center">
          <a
            href="https://www.arcom.fr/podcasts"
            class="text-white text-[13px] rounded-[36px] py-[10px] px-[21px]"
            target="_blank"
            rel="noopener noreferrer"
          >
            <figure>
              <img src="./public/logos/spotify.svg" alt="" />
            </figure>
          </a>
          <a
            href="https://www.arcom.fr/podcasts"
            class="text-white text-[13px] rounded-[36px] py-[10px] px-[21px]"
            target="_blank"
            rel="noopener noreferrer"
          >
            <figure>
              <img src="./public/logos/youtube.svg" alt="" />
            </figure>
          </a>
        </div>
      </div>
    </section>
    <!-- Chiffres clés -->
    <section class="px-[35px] text-white">
      <div class="grid grid-cols-2 gap-5" x-data="keyNumbers">
        <template x-for="(fact, index) in numbers" :key="index">
          <div
            class="bg-blue rounded-lg px-3 py-3"
            :class="index === numbers.length - 1 ? 'col-span-2 grid grid-cols-[auto_auto] gap-5 place-items-center' : ''"
          >
            <div class="grid place-items-center">
              <div class="relative">
                <!-- Background Circle -->
                <svg class="w-full h-full transform rotate-90">
                  <circle
                    cx="50%"
                    cy="50%"
                    r="46.5"
                    stroke-width="10"
                    fill="none"
                    class="stroke-lightCircleBlue"
                  />
                </svg>
                <!-- Progress Circle -->
                <svg
                  class="absolute top-0 left-0 w-full h-full transform rotate-90"
                >
                  <circle
                    cx="50%"
                    cy="50%"
                    r="46.5"
                    stroke-width="10"
                    fill="none"
                    stroke-dasharray="292.273"
                    stroke-linecap="round"
                    class="stroke-circleBlue"
                    x-intersect.once="animateOnView(fact.animation)"
                  />
                </svg>
                <div
                  class="absolute inset-0 grid place-items-center text-[26px]"
                >
                  <span x-text="fact.num"></span>
                </div>
              </div>
            </div>
            <p
              x-text="fact.text"
              :class="index !== numbers.length - 1 ? 'text-center' : ''"
            ></p>
          </div>
        </template>
      </div>
    </section>
    <!-- Lisez nos articles -->
    <section class="px-8 mb-11">
      <div
        class="mb-[25px]"
        x-data="{
            lisezNosArticles: 'Lisez nos <span class=\'text-pink\'>articles</span>'
          }"
      >
        <h2 class="text-2xl mb-[26px]" x-html="lisezNosArticles"></h2>
      </div>
      <div
        x-data="postsSlider"
        class="overflow-auto grid grid-flow-col gap-[69px] py-10"
      >
        <template x-for="(post, index) in posts" :key="index">
          <article class="min-w-[253px]">
            <div class="inline-block relative">
              <figure>
                <img
                  :src="post.imageLink"
                  alt="Illustration vectorisée représentant un ordinateur et des informations."
                />
              </figure>
              <a
                :href="post.postLink"
                target="_blank"
                rel="noopener noreferrer"
                class="w-[51px] h-[51px] bg-pink rounded-full grid place-items-center absolute bottom-0 right-0 z-10 transition-all duration-300 ease-in-out hover:bg-lightBlue"
              >
                <figure>
                  <img :src="post.buttonImg" alt="" />
                </figure>
              </a>
            </div>
            <h3 class="text-lg mb-2 bold" x-text="post.title"></h3>
            <p class="text-sm mb-[25px]" x-text="post.excerpt"></p>
            <a
              :href="post.postLink"
              x-text="post.buttonText"
              class="bg-blue text-white text-[13px] rounded-[36px] py-[10px] px-[21px] transition-all duration-300 hover:bg-pink"
              target="_blank"
              rel="noopener noreferrer"
            ></a>
          </article>
        </template>
      </div>
    </section>

    <!-- Newsletter -->
    <section class="px-[15px] mb-[58px]">
      <div class="bg-blue rounded-[12px] text-white py-[40px]">
        <div
          class="text-center mb-[40px]"
          x-data="{newsletter: 'NEWSLETTER', newsletterTitle: 'Ne manquez plus nos actualités quotidiennes !'}"
        >
          <span
            class="uppercase text-[13px] text-lightBlue mb-[8px]"
            x-text="newsletter"
          ></span>
          <h2 x-text="newsletterTitle"></h2>
        </div>
        <!-- Formulaire -->
        <div class="grid place-items-center">
          <form class="mb-[13px] w-[80%]">
            <div
              class="bg-white rounded-[25px] py-[10px] pl-[22px] pr-[10px] grid grid-cols-[auto_auto] space-between"
              x-data="{ email: 'Votre adresse e-mail', emailPlaceholder: 'Écris ton mail', submit: 'S\'inscrire' }"
            >
              <label for="email" class="sr-only" x-text="email"></label>
              <input
                class="placeholder-lightGray"
                type="email"
                name="email"
                id="email"
                x-bind:placeholder="emailPlaceholder"
              />
              <button
                class="bg-blue text-white text-[13px] rounded-[36px] py-[10px] px-[21px]"
                type="submit"
              >
                <span x-text="submit"></span>
              </button>
            </div>
          </form>
        </div>
        <div class="grid place-items-center">
          <div
            class="grid grid-cols-[auto_auto] gap-x-[8px]"
            x-data="{confidentialite: 'Confidentialité garantie'}"
          >
            <img src="./public/img/pictogrammes/coche-valide.svg" />
            <span class="text-[11px]" x-text="confidentialite"></span>
          </div>
        </div>
      </div>
    </section>
    <!-- Footer -->
    <footer class="bg-gray pt-[31px]">
      <div class="pl-[34px]">
        <div
          x-data="{logoSlogan: 'Bien s\'unir pour mieux agir'}"
          class="grid gap-y-[10px] place-items-center mb-[22px]"
        >
          <figure>
            <img
              class="w[120px] h-[40px]"
              src="./public/logos/logo_unis.svg"
              alt="Logo de la campagne de communication Unis pour mieux agir"
            />
          </figure>
          <span class="leading-none text-[10px]" x-text="logoSlogan"></span>
        </div>
        <div>
          <ul x-data="{contact: 'Nous contacter'}">
            <li x-text="contact"></li>
            <li></li>
            <li></li>
          </ul>
        </div>
      </div>
      <div
        class="text-white bg-blue h-[30px] text-[10px] grid place-items-center"
      >
        <div
          class="grid grid-cols-[auto_auto_auto_auto_auto] gap-x-[8px] place-items-center"
          x-data="{ year: '2024', copyright: '©', site: 'artevia.netlify.app', separator: '|', rights: 'Tous droits réservés' }"
        >
          <span x-text="year"></span>
          <span x-text="copyright"></span>
          <span x-text="site"></span>
          <span x-text="separator"></span>
          <span x-text="rights"></span>
        </div>
      </div>
    </footer>

    <!-- Wavesurfer -->
    <script src="./js/wavesurfer.js" type="module"></script>

    <!-- Service Worker -->
    <script>
      if ("serviceWorker" in navigator) {
        navigator.serviceWorker
          .register("/service-worker.js")
          .then((reg) => console.log("service worker registered", reg))
          .catch((err) => console.log("service worker not registered", err));
      }
    </script>
  </body>
</html>
